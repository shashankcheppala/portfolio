<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Shanks — Interactive 3D Portfolio</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <style>
    /* ---- Base ---- */
    :root {
      --bg:#0c111b; --fg:#e8ebf2; --muted:#b6b9c6; --accent:#7ea7ff;
      --vh:100vh; /* set at runtime for mobile safe area */
    }
    html,body { height:100%; background:var(--bg); color:var(--fg); margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;}
    a { color: var(--accent); text-decoration: none; }
    .wrap { position: relative; z-index: 2; }
    /* ---- Canvas ---- */
    #scene { position: fixed; inset:0; display:block; z-index:1; }
    /* ---- Sections ---- */
    section {
      position: relative; min-height: var(--vh);
      display:flex; align-items:center; justify-content:center; padding:6rem 1.5rem;
    }
    .center {
      max-width: 960px; width:100%; text-align: center;
      backdrop-filter: blur(2px);
    }
    h1,h2 { margin:0 0 .5rem; letter-spacing:.5px }
    h1 { font-size: clamp(2rem, 5vw, 4rem); }
    h2 { font-size: clamp(1.4rem, 3.2vw, 2rem); color:var(--muted); font-weight:500 }
    p { color: var(--muted); line-height:1.6; margin:.75rem auto 0; max-width:70ch }
    /* Cards / gallery */
    .cards { display:grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap:1rem; margin-top:1.5rem }
    .card {
      border:1px solid rgba(255,255,255,.07); border-radius:12px; padding:1rem 1.1rem;
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .pill { display:inline-block; padding:.25rem .6rem; border:1px solid rgba(255,255,255,.14); border-radius:999px; color:#cfe1ff; font-size:.8rem; letter-spacing:.4px }
    /* Footer socials */
    .socials { display:flex; gap:1rem; justify-content:center; margin-top:1rem; flex-wrap:wrap }
    .socials a { padding:.4rem .7rem; border:1px solid rgba(255,255,255,.12); border-radius:10px }
    /* Subtle top gradient to lift text */
    .fadeTop, .fadeBottom {
      position: fixed; left:0; right:0; height:12vh; z-index:2; pointer-events:none;
    }
    .fadeTop { top:0; background:linear-gradient(var(--bg),transparent) }
    .fadeBottom { bottom:0; background:linear-gradient(transparent,var(--bg)) }
    /* Loading badge */
    #loading {
      position: fixed; top:12px; right:12px; z-index:3; padding:.4rem .6rem; font-size:.8rem;
      border:1px solid rgba(255,255,255,.15); border-radius:8px; color:#c8d7ff; background:rgba(255,255,255,.03)
    }
    @media (max-width:560px){ .cards{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <canvas id="scene" aria-hidden="true"></canvas>
  <div class="fadeTop"></div><div class="fadeBottom"></div>
  <div id="loading">Loading…</div>

  <main class="wrap">
    <!-- HERO -->
    <section id="hero">
      <div class="center">
        <div class="pill">Shanks — MSDA</div>
        <h1>Interactive Data Portfolio</h1>
        <h2>WebGL + Scroll-driven 3D. Lightweight. Production-ready.</h2>
        <p>Scroll to explore projects. The 3D scene and camera react in real-time. Footer ends with a particle morph moment.</p>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects">
      <div class="center">
        <div class="pill">Projects</div>
        <h1>Selected Work</h1>
        <div class="cards">
          <div class="card"><h3>Fake News Evolution (NLP)</h3><p>DistilBERT & LSTM classification, trend viz, augmentation.</p></div>
          <div class="card"><h3>Deepfake Detection</h3><p>Hybrid CNN + emotion fusion, EfficientNetB0, focal loss.</p></div>
          <div class="card"><h3>Mental Health Crisis</h3><p>Real-time prediction pipeline with streaming inference.</p></div>
          <div class="card"><h3>Diabetes Prediction</h3><p>Soft-voting ensemble, SHAP insights, clean deployment.</p></div>
        </div>
      </div>
    </section>

    <!-- CONTACT / FOOTER PARTICLES -->
    <section id="contact">
      <div class="center">
        <div class="pill">Contact</div>
        <h1>Let’s build.</h1>
        <p>Open-source friendly. Drop me a line.</p>
        <div class="socials">
          <a href="https://www.linkedin.com/" target="_blank" rel="noreferrer">LinkedIn</a>
          <a href="https://github.com/" target="_blank" rel="noreferrer">GitHub</a>
          <a href="mailto:you@example.com">Email</a>
        </div>
      </div>
    </section>
  </main>

  <!-- libs: Three, GSAP, ScrollTrigger, Troika text (optional here) -->
  <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.160.0/examples/jsm/utils/BufferGeometryUtils.js"></script>
  <script src="https://unpkg.com/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script>
  (() => {
    // viewport fix for mobile
    const setVH = () => document.documentElement.style.setProperty('--vh', window.innerHeight + 'px');
    setVH(); addEventListener('resize', setVH);

    // --- Three basics
    const canvas = document.getElementById('scene');
    const renderer = new THREE.WebGLRenderer({ canvas, antialias:true, alpha:true, powerPreference:'high-performance' });
    renderer.setPixelRatio(Math.min(devicePixelRatio, 1.75));
    const scene = new THREE.Scene();
    scene.fog = new THREE.FogExp2(0x0c111b, 0.015);

    const camera = new THREE.PerspectiveCamera(55, innerWidth/innerHeight, 0.1, 200);
    camera.position.set(0, 2.2, 7);

    function onResize(){
      const w = innerWidth, h = innerHeight;
      renderer.setSize(w, h);
      camera.aspect = w/h; camera.updateProjectionMatrix();
    }
    addEventListener('resize', onResize); onResize();

    // Lights
    const hemi = new THREE.HemisphereLight(0xdde8ff, 0x0b0f17, 1.0); scene.add(hemi);
    const dir = new THREE.DirectionalLight(0xffffff, 1.2); dir.position.set(3,6,4); scene.add(dir);

    // --- Ground
    const groundGeo = new THREE.PlaneGeometry(80,80, 120,120);
    groundGeo.rotateX(-Math.PI/2);
    // small bumps
    const pos = groundGeo.attributes.position;
    for (let i=0;i<pos.count;i++){
      const x=pos.getX(i), z=pos.getZ(i);
      const r = Math.hypot(x*0.04, z*0.04);
      const n = Math.sin(x*0.15)*Math.cos(z*0.1)*.3 + Math.exp(-r*r)*0.6;
      pos.setY(i, n);
    }
    pos.needsUpdate = true; groundGeo.computeVertexNormals();
    const ground = new THREE.Mesh(groundGeo, new THREE.MeshStandardMaterial({
      color:0x111725, roughness:0.9, metalness:0.0
    }));
    scene.add(ground);

    // --- Igloo-like dome (simple stylized hemisphere)
    const domeGeo = new THREE.SphereGeometry(1.4, 48, 32, 0, Math.PI*2, 0, Math.PI/2);
    domeGeo.rotateY(Math.PI*0.25);
    const domeMat = new THREE.MeshPhysicalMaterial({
      color:0xeef4ff, roughness:0.15, metalness:0.0, reflectivity:0.25,
      transmission:0.0, thickness:0.2, clearcoat:0.4, clearcoatRoughness:0.4
    });
    const dome = new THREE.Mesh(domeGeo, domeMat);
    dome.position.set(0, 1.0, -2.0);
    scene.add(dome);

    // --- Snow particles
    const SNOW = 1800;
    const snowGeo = new THREE.BufferGeometry();
    const snowPos = new Float32Array(SNOW*3);
    const snowVel = new Float32Array(SNOW);
    for(let i=0;i<SNOW;i++){
      snowPos[i*3+0] = (Math.random()-0.5)*40;
      snowPos[i*3+1] = Math.random()*18 + 1;
      snowPos[i*3+2] = (Math.random()-0.5)*40;
      snowVel[i] = Math.random()*0.08 + 0.02;
    }
    snowGeo.setAttribute('position', new THREE.BufferAttribute(snowPos,3));
    const snowMat = new THREE.PointsMaterial({ color:0xffffff, size:0.03, sizeAttenuation:true, transparent:true, opacity:0.9 });
    const snow = new THREE.Points(snowGeo, snowMat); scene.add(snow);

    // --- Gallery "ice blocks" (three boxes with frosty material)
    const iceMat = new THREE.MeshPhysicalMaterial({
      color:0xbfd7ff, roughness:0.15, metalness:0.0, transmission:0.85, thickness:0.6, ior:1.2, clearcoat:0.3, transparent:true
    });
    const blocks = [];
    for(let i=0;i<3;i++){
      const box = new THREE.Mesh(new THREE.BoxGeometry(1.2,1.2,1.2, 10,10,10), iceMat);
      box.position.set((i-1)*2.2, 1.0, -5 - i*3.5);
      box.rotation.y = Math.random()*Math.PI;
      blocks.push(box); scene.add(box);
    }

    // --- Footer particle morph (sphere -> torus)
    const COUNT = 4000;
    const morph = new THREE.BufferGeometry();
    const from = new Float32Array(COUNT*3);
    const to = new Float32Array(COUNT*3);
    // positions on sphere
    for(let i=0;i<COUNT;i++){
      const u = Math.random(), v = Math.random();
      const theta = 2*Math.PI*u, phi = Math.acos(2*v-1);
      const r = 1.2;
      from[i*3+0] = r*Math.sin(phi)*Math.cos(theta);
      from[i*3+1] = r*Math.cos(phi);
      from[i*3+2] = r*Math.sin(phi)*Math.sin(theta);
    }
    // positions on torus
    const R = 1.2, r = 0.45;
    for(let i=0;i<COUNT;i++){
      const u = Math.random()*Math.PI*2, v = Math.random()*Math.PI*2;
      const x = (R + r*Math.cos(v))*Math.cos(u);
      const y = r*Math.sin(v);
      const z = (R + r*Math.cos(v))*Math.sin(u);
      to[i*3+0]=x; to[i*3+1]=y; to[i*3+2]=z;
    }
    morph.setAttribute('position', new THREE.BufferAttribute(from.slice(),3));
    const pm = new THREE.PointsMaterial({ size:0.02, color:0x9fc1ff, transparent:true, opacity:0.95 });
    const pcloud = new THREE.Points(morph, pm);
    pcloud.position.set(0, 1.2, -18); scene.add(pcloud);

    // --- Animation state
    let tMorph = 0; // 0..1
    const clock = new THREE.Clock();

    // --- GSAP Scroll
    gsap.registerPlugin(ScrollTrigger);

    // Camera rail: glide forward and down into the gallery
    gsap.to(camera.position, {
      z: 2.8, y: 1.6, ease: 'none',
      scrollTrigger: { trigger: '#projects', start: 'top bottom', end: 'top top', scrub: 1 }
    });
    // Pan through blocks
    gsap.to(camera.position, {
      z: -7.5, y: 1.1, ease: 'none',
      scrollTrigger: { trigger: '#projects', start: 'top top', end: 'bottom top', scrub: 1 }
    });
    // Footer morph progress
    gsap.to({}, {
      value: 1,
      onUpdate: self => { tMorph = self.progress; },
      scrollTrigger: { trigger:'#contact', start:'top bottom', end:'center center', scrub: 1 }
    });

    // Loading badge
    const loading = document.getElementById('loading');
    setTimeout(()=> loading.textContent = 'Ready', 700);
    setTimeout(()=> loading.style.display = 'none', 2400);

    // --- Render loop
    renderer.setAnimationLoop(()=>{
      const dt = clock.getDelta();
      // snow fall
      const p = snow.geometry.attributes.position.array;
      for(let i=0;i<SNOW;i++){
        p[i*3+1] -= snowVel[i] + dt*0.2;
        p[i*3+0] += Math.sin((p[i*3+1]+i)*0.02)*0.002;
        if(p[i*3+1] < 0.4){ p[i*3+1] = 18.0; }
      }
      snow.geometry.attributes.position.needsUpdate = true;

      // rotate blocks a bit
      blocks.forEach((b,ix)=> { b.rotation.y += 0.003 + ix*0.001; });

      // morph footer points
      const pos = morph.attributes.position.array;
      for(let i=0;i<COUNT;i++){
        const ix3 = i*3;
        pos[ix3+0] = from[ix3+0] * (1-tMorph) + to[ix3+0] * tMorph;
        pos[ix3+1] = from[ix3+1] * (1-tMorph) + to[ix3+1] * tMorph;
        pos[ix3+2] = from[ix3+2] * (1-tMorph) + to[ix3+2] * tMorph;
      }
      morph.attributes.position.needsUpdate = true;

      renderer.render(scene, camera);
    });
  })();
  </script>
</body>
</html>

