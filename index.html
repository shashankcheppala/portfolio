<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shashank · Apple-style 3D Scroll</title>
  <meta name="description" content="All-black Apple-style portfolio with smooth scroll and 3D model pinning." />
  <meta name="theme-color" content="#000000" />
  <style>
    :root{ --bg:#000; --text:#f2f2f2; --muted:#a0a0a0; --line:#121212; }
    *{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:auto}
    body{margin:0; background:#000; color:var(--text); font-family:Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;}
    a{color:#fff; text-decoration:none}

    /* Nav */
    .nav{position:fixed; top:0; left:0; right:0; height:56px; display:flex; align-items:center; justify-content:space-between; padding:0 16px; border-bottom:1px solid var(--line); background:rgba(0,0,0,.6); backdrop-filter: blur(8px); z-index:100}
    .brand{display:flex; align-items:center; gap:10px}
    .dot{width:10px; height:10px; border-radius:50%; background:#fff; box-shadow:0 0 18px #fff6}
    .links{display:flex; gap:16px}
    .links a{color:#cfcfcf}

    .section{min-height:100svh; display:flex; align-items:center; padding:80px 6vw; border-bottom:1px solid var(--line)}
    .container{width:100%; max-width:1200px; margin:0 auto}
    .h1{font-size:clamp(28px,4vw,56px); line-height:1.1; margin:0 0 10px}
    .p{color:var(--muted); max-width:70ch}

    /* Pinned 3D stage */
    .stage-wrap{position:relative; height:200svh}
    .stage{position:sticky; top:56px; height:calc(100svh - 56px); border-bottom:1px solid var(--line)}
    #stage-canvas{position:absolute; inset:0; width:100%; height:100%; display:block}
    .stage-overlay{position:absolute; inset:0; display:grid; place-items:end start; padding:24px; pointer-events:none}
    .stage-overlay .copy{max-width:760px}
    .tag{display:inline-block; border:1px solid var(--line); padding:6px 10px; border-radius:999px; font-size:12px; color:#eaeaea; margin-right:8px}

    /* Feature rows */
    .grid{display:grid; grid-template-columns:repeat(12,1fr); gap:20px}
    .col-6{grid-column:span 6}
    .card{background:#0a0a0a; border:1px solid var(--line); border-radius:18px; padding:18px}
    @media (max-width:900px){ .col-6{grid-column:span 12} }

    footer{padding:28px; color:#9a9a9a; text-align:center}

    @media (prefers-reduced-motion:no-preference){
      .card{transition:transform .2s ease, background .2s ease}
      .card:hover{transform:translateY(-2px); background:#0c0c0c}
    }
  </style>
</head>
<body>
  <header class="nav">
    <div class="brand"><div class="dot"></div><strong>Shashank</strong></div>
    <nav class="links">
      <a href="#intro">Intro</a>
      <a href="#stage">3D</a>
      <a href="#work">Work</a>
      <a href="Resume.pdf" target="_blank" rel="noopener">Resume</a>
    </nav>
  </header>

  <section id="intro" class="section">
    <div class="container">
      <h1 class="h1">Clean, Apple-style portfolio.<br/>Smooth scroll. Real-time 3D.</h1>
      <p class="p">Scroll to rotate the model and reveal content. It’s all-black, mobile-first, and uses Lenis + GSAP for buttery scrolling. Three.js powers the 3D with a fallback if your GLB model is missing.</p>
    </div>
  </section>

  <!-- Pinned 3D stage with scroll-scrub rotation -->
  <section id="stage" class="stage-wrap">
    <div class="stage">
      <canvas id="stage-canvas"></canvas>
      <div class="stage-overlay">
        <div class="copy">
          <span class="tag">NLP</span><span class="tag">CV</span><span class="tag">Analytics</span>
          <h2 class="h1" style="margin-top:8px">I build explainable ML systems and the interfaces around them.</h2>
          <p class="p">This 3D hero is pinned while you scroll. Rotation/zoom is scrubbed with ScrollTrigger for that Apple-product feel.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="work" class="section">
    <div class="container">
      <div class="grid">
        <div class="col-6 card">
          <h3>Fake News Detection Using LLMs & Deep Learning</h3>
          <p class="p">Pipeline through classic ML → Bi-LSTM (GloVe) → DistilBERT fine-tune with augmentation and feature analysis.</p>
        </div>
        <div class="col-6 card">
          <h3>Emotion-Aware Deepfake Detection</h3>
          <p class="p">Two-stream EfficientNetB0 + temporal Conv1D fused with emotion vectors (FER/MTCNN). Custom focal loss, notebook artifacts.</p>
        </div>
      </div>
    </div>
  </section>

  <footer>© <span id="year"></span> Shashank Cheppala — Apple-style 3D scroll.</footer>

  <!-- Smooth scroll + ScrollTrigger + Three.js -->
  <script type="module">
    // Imports (ESM CDNs)
    import Lenis from 'https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/bundled/lenis.min.js';
    import gsap from 'https://cdn.jsdelivr.net/npm/gsap@3.12.5/index.js';
    import { ScrollTrigger } from 'https://cdn.jsdelivr.net/npm/gsap@3.12.5/ScrollTrigger.js';
    import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';
    import { OrbitControls } from 'https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js';
    import { GLTFLoader } from 'https://unpkg.com/three@0.160.0/examples/jsm/loaders/GLTFLoader.js';

    // Smooth scrolling
    const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
    const lenis = new Lenis({ lerp: prefersReduced ? 1 : 0.08, smoothWheel: !prefersReduced });
    function raf(t){ lenis.raf(t); requestAnimationFrame(raf) }
    requestAnimationFrame(raf);

    gsap.registerPlugin(ScrollTrigger);

    // Three.js setup
    const canvas = document.getElementById('stage-canvas');
    const renderer = new THREE.WebGLRenderer({ canvas, antialias:true, alpha:true, powerPreference:'high-performance' });
    renderer.setPixelRatio(Math.min(devicePixelRatio, 2));

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(55, 1, 0.1, 100);
    camera.position.set(0, .6, 3.6);

    const key = new THREE.DirectionalLight(0xffffff, 1.15); key.position.set(2,2,2);
    const fill = new THREE.AmbientLight(0x404040, .8);
    scene.add(key, fill);

    // Load GLB or fallback torus
    let root = new THREE.Group(); scene.add(root);
    const loader = new GLTFLoader();
    loader.load('/models/model.glb',
      (g)=>{ root.add(g.scene); g.scene.scale.set(1.2,1.2,1.2); },
      undefined,
      ()=>{ // fallback
        const geo = new THREE.TorusKnotGeometry(0.7, 0.22, 220, 36, 2, 3);
        const mat = new THREE.MeshPhysicalMaterial({ color:0xffffff, metalness:0.9, roughness:0.15, clearcoat:1 });
        const mesh = new THREE.Mesh(geo, mat); root.add(mesh);
        const wire = new THREE.LineSegments(new THREE.WireframeGeometry(geo), new THREE.LineBasicMaterial({color:0xffffff, opacity:.18, transparent:true}));
        mesh.add(wire);
      }
    );

    const controls = new OrbitControls(camera, canvas);
    controls.enabled = false;

    function resize(){
      const rect = canvas.getBoundingClientRect();
      renderer.setSize(rect.width, rect.height, false);
      camera.aspect = Math.max(rect.width / Math.max(1, rect.height), 1e-6);
      camera.updateProjectionMatrix();
    }
    resize(); addEventListener('resize', resize);

    renderer.setAnimationLoop(()=>{ renderer.render(scene, camera) });

    // Pin the stage and scrub the model rotation/zoom
    const stage = document.querySelector('.stage-wrap');
    ScrollTrigger.create({
      trigger: stage,
      start: 'top top',
      end: 'bottom top',
      pin: '.stage',
      pinSpacing: false
    });

    gsap.to(root.rotation, {
      x: Math.PI*1.0, y: Math.PI*2.0, ease: 'none',
      scrollTrigger: { trigger: stage, start: 'top top', end: 'bottom top', scrub: true }
    });

    gsap.to(camera.position, {
      z: 2.2, ease: 'power1.out',
      scrollTrigger: { trigger: stage, start: 'top top', end: 'bottom top', scrub: true }
    });

    gsap.fromTo('.stage-overlay .copy', {opacity:1, y:0}, {
      opacity:0, y:-40, ease:'none',
      scrollTrigger:{ trigger: stage, start:'center center', end:'bottom top', scrub:true }
    });

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
